<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="style.css">


        <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment.min.js"></script>
        <script src="https://use.fontawesome.com/e192119d56.js"></script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCXi20azot7i4AjP1B3p4wydRKn7HbquLo"></script>
    </head>


	<title>Fredericton Transit Tracker</title>
    <body>
        <div id="header">
            <h2>Fredericton Transit Tracker <small> by Vlad Marica</small></h2>
            <button id="github-link" class="btn btn-default" 
                onclick="window.location.href='https://github.com/Quintinity/TransitTracker'">
                <i class="fa fa-github fa-lg" aria-hidden="true"></i> View on GitHub
            </button>
        </div>

        <br>
        <div class="alert alert-danger" role="alert" style="margin-left:20px;width:800px">
            <i class="fa fa-exclamation-triangle fa-lg" aria-hidden="true"></i>&nbsp;
            <b>The city of Fredericton has changed the format of the GPS data that each bus outputs. 
            I am in the process of updating the parser to handle this new format. 
            Until then, it will appear as if none of the buses are moving.</b>
        </div>

        <br>
        <b><p id="statusLabel">Connecting to server...</p></b>

        <div id="main" style="width:1260px">
            <div id="left-div">
         		<div id="map-canvas"></div>
                
                <div>
                    <hr style="margin-left:20px;width:800px">
                    <p style="margin-left:20px;font-size:22px"><b>How does it work?<b></p>
                    <p style="margin-left:20px;font-size:15px;width:800px">Most public buses in the city of Fredericton have a GPS unit attached to them. This unit transmits the bus's current information (ID, coordinates, velocity, etc), over radio ever minute. I have set up a radio reciever on the University of New Brunswick campus which listens for these radio signals and sends them to a server machine where they are parsed.
                    <br>
                    <br>
                    By viewing this website, you are connecting to this server machine through websockets. The server sends your browser the parsed bus data, which is used to place markers on the map above.
                    </p>
                </div>

            </div>

            <div id="right-div">
                <table class="table table-condensed" id="bus-table" style="">
                    <tr>
                        <th>Bus ID</th>
                        <th>Last Update Time</th>
                        <th>Color</th>
                    </tr>
                </table>

                <br>
                <p style="text-align:center;font-size:15px">Click on a bus ID in the table above to center it in the map</p>
            </div>
        </div>
       	
		<script src="scripts/util.js"></script>
        <script src="scripts/client.js"></script>
        <script src="scripts/map.js"></script>
        <script src="scripts/buses.js"></script>

    </body>
</html>
